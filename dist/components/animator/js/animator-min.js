"use strict";if("undefined"==typeof OpenLayers||!OpenLayers)throw"ERROR: OpenLayers is required for fi.fmi.metoclient.ui.animator.Factory!";var fi=fi||{};if(fi.fmi=fi.fmi||{},fi.fmi.metoclient=fi.fmi.metoclient||{},fi.fmi.metoclient.ui=fi.fmi.metoclient.ui||{},fi.fmi.metoclient.ui.animator=fi.fmi.metoclient.ui.animator||{},fi.fmi.metoclient.ui.animator.Factory=function(){function a(a,b){if(a&&b&&b>0){var c=a.getTime();c!==b&&(c-=c%b,a.setTime(c))}}function b(a,b){if(a&&b&&b>0){var c=a.getTime();if(c!==b){var d=c%b;d&&(c+=b-c%b,a.setTime(c))}}}!function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw"Function.prototype.bind - what is trying to be bound is not callable";var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;var f=d;return e.prototype=new f,e})}();var c=function(c){function d(){var a;if(r){var b=r.layers;if(b)for(var c=0;c<b.length;++c){var d=b[c];if(d&&d.args)for(var e=0;e<d.args.length;++e){var f=d.args[e];if(f){var g=f.animation;if(g){(!a||void 0!==g.resolutionTime&&null!==g.resolutionTime&&a<g.resolutionTime)&&(a=g.resolutionTime);break}}}}}return a}function e(){var a;if(r){var b=r.layers;if(b)for(var c=0;c<b.length;++c){var d=b[c];if(d&&d.args)for(var e=0;e<d.args.length;++e){var f=d.args[e];if(f){var g=f.animation;if(g){if(void 0!==g.beginTime&&null!==g.beginTime){var h=g.beginTime;h instanceof Date||(h=new Date(h)),(void 0===a||h.getTime()<a)&&(a=h)}break}}}}}return a}function f(){var a;if(r){var b=r.layers;if(b)for(var c=0;c<b.length;++c){var d=b[c];if(d&&d.args)for(var e=0;e<d.args.length;++e){var f=d.args[e];if(f){var g=f.animation;if(g){if(void 0!==g.endTime&&null!==g.endTime){var h=g.endTime;h instanceof Date||(h=new Date(h)),(void 0===a||h.getTime()>a)&&(a=h)}break}}}}}return a}function g(){if(!n&&r&&r.map&&r.map.className){var a;if(r.map.args&&r.map.args.length>0){a=r.map.args;var b=a[0];b.theme||(b.theme=null)}n=u(r.map.className,a)}return n}function h(){if(g()&&r&&r.layers&&0===s.length)for(var c,d=r.layers,e=0;e<d.length;++e){var f=d[e];if(c=void 0,f&&f.className&&f.args){for(var h=0;h<f.args.length;++h){var i=f.args[h];if(i){var j=i.animation;if(j){void 0===j.resolutionTime&&(j.resolutionTime=k()),void 0===j.beginTime&&(j.beginTime=l()),void 0===j.endTime&&(j.endTime=m()),j.resolutionTime&&(j.beginTime instanceof Date||(j.beginTime=new Date(j.beginTime)),a(j.beginTime,j.resolutionTime),j.endTime instanceof Date||(j.endTime=new Date(j.endTime)),b(j.endTime,j.resolutionTime));break}}}c=u(f.className,f.args)}c&&s.push(c)}return s}function i(){return r?r.defaultZoomLevel:void 0}function j(){return r?r.animationFrameRate:void 0}function k(){if(void 0===o&&(o=r?r.animationResolutionTime:void 0,!o&&(o=d(),!o)))throw"ERROR: Animation configuration missing resolution time!";return o}function l(){if(void 0===p&&r&&(void 0!==r.animationDeltaToBeginTime?r.animationDeltaToBeginTime>=0&&(p=new Date,r.animationDeltaToBeginTime?(p.setTime(p.getTime()-r.animationDeltaToBeginTime),a(p,k())):b(p,k())):(p=e(),void 0!==p&&a(p,k())),void 0===p))throw"ERROR: Animation configuration missing proper begin time!";return void 0===p?void 0:new Date(p.getTime())}function m(){if(void 0===q&&r&&(void 0!==r.animationDeltaToEndTime?r.animationDeltaToEndTime>=0&&(q=new Date,r.animationDeltaToEndTime?(q.setTime(q.getTime()+r.animationDeltaToEndTime),b(q,k())):a(q,k())):(q=f(),void 0!==q&&b(q,k())),void 0===q))throw"ERROR: Animation configuration missing proper end time!";return void 0===q?void 0:new Date(q.getTime())}var n,o,p,q,r=c&&c.config?c.config:fi.fmi.metoclient.ui.animator.Config,s=[],t=function(a,b){var c;if(a){var d=[a];b&&(d=d.concat(b)),c=a.bind.apply(a,d)}return c},u=function(a,b){var c;if(a){var d=a.split("."),e=window||this;if(e){for(var f=0,g=d.length;g>f;f++)e=e[d[f]];"function"==typeof e&&(c=new(t(e,b)))}}return c};this.getMap=g,this.getLayers=h,this.getDefaultZoomLevel=i,this.getAnimationFrameRate=j,this.getAnimationResolution=k,this.getAnimationBeginDate=l,this.getAnimationEndDate=m};return c}(),"undefined"==typeof Raphael||!Raphael)throw"ERROR: Raphael JS is required for fi.fmi.metoclient.ui.animator.AnimationControl!";var fi=fi||{};if(fi.fmi=fi.fmi||{},fi.fmi.metoclient=fi.fmi.metoclient||{},fi.fmi.metoclient.ui=fi.fmi.metoclient.ui||{},fi.fmi.metoclient.ui.animator=fi.fmi.metoclient.ui.animator||{},fi.fmi.metoclient.ui.animator.Controller=function(){function a(a){var b=a.getHours(),c=a.getMinutes(),d=b>9?b:"0"+b;return d+=":",d+=c>9?c:"0"+c}var b="Arial",c=12,d=function(d,e,f){function g(){return 50}function h(){X.proposeNextFrame()}function i(){X.proposePreviousFrame()}function j(a){a.originalEvent.wheelDelta>0?h():i(),a.preventDefault()}function k(){var a=0;return a=K()?W&&Math.floor(M()-L()?Q()*(K()-L())/(M()-L()):0):Q(),0>a&&(a=0),a}function l(){var a=W?Q()-k():0;return 0>a&&(a=0),a}function m(){return jQuery(bb.node).offset().left+g()}function n(){var b=jQuery(jb.node).offset().left,c=new Date(v(w(b)));kb.attr("text",a(c))}function o(a){var b=a-jQuery(jb.node).offset().left,c=a+$.sliderTipDx,d=m();b&&c>=d&&c<=d+Q()&&(ib.transform("...T"+b+",0"),n(),t())}function p(){X.proposePause(),hb=jQuery(jb.node).offset().left}function q(a){var b=w(hb+a);X.proposeTimeSelectionChange(b)}function r(){hb=void 0}function s(){y(),z(),B(),u(),t(),fb.toFront(),gb.toFront()}function t(){var a=jQuery(jb.node).offset().left+$.sliderTipDx,b=a-jQuery(cb.node).offset().left;0>b&&(b=0),fb.attr("width",b);var c=cb.attr("width")-b;0>c&&(c=0),gb.attr("x",fb.attr("x")+b).attr("width",c)}function u(){ib.toFront(),n()}function v(a){var b=N();return void 0!==a&&null!==a&&b&&(a+=Math.floor(b/4),a-=a%b),a}function w(a){var b=m()-$.sliderTipDx,c=Math.floor(L()+(a-b)*S());return c<L()?c=L():c>M()&&(c=M()),c}function x(a){var b=m()-$.sliderTipDx,c=a-L(),d=S(),e=Math.floor(b+(d?c/d:0));return e}function y(){var a=k(),b=l(),c=a+b;cb.attr("x",Z.x+g()).attr("width",c),db.attr("x",Z.x+g()).attr("width",a),eb.attr("x",Z.x+g()+a).attr("width",b)}function z(){for(;ab.length;)ab.splice(0,1)[0].remove();var a=N();if(a)for(var b=L(),c=M(),d=O(),e=P()+R()-Z.progressCellHeight-1,f=Math.floor((c-b)/a),g=Q()/f,h=0;f>h;++h){var i=Y.rect(d+h*g,e,g,Z.progressCellHeight);i.attr("fill",Z.bgColor).attr("stroke-width","0"),i.node.id="animationProgressCell_"+(b+(h+1)*a),ab.push(i),jQuery(i.node).bind("mousewheel",j)}}function A(a){for(var b,c=0;c<ab.length;++c)if(ab[c].node.id==="animationProgressCell_"+a){b=ab[c],b.attr("fill",Z.cellReadyColor);break}return b}function B(){for(;_.length;)_.splice(0,1)[0].remove();var d=N();if(d)for(var e,f=L(),g=M(),h=O(),i=Math.floor((g-f)/d),k=Q()/i,l=0;i>=l;++l){var n=h+l*k,o=new Date(f+l*d),p=R()-(Z.height-Z.bgHeight),q=0===o.getMinutes()&&0===o.getSeconds()&&0===o.getMilliseconds();if((q||0===l||l===i)&&(p=R()/4),p){var r=P()+R(),s=Y.path("M"+n+","+r+"V"+p);if(s.attr("stroke",Raphael.getRGB("white")).attr("opacity",.5),_.push(s),jQuery(s.node).bind("mousewheel",j),q&&i>l){var t=Y.text(n+2,P()+8,a(o)).attr("text-anchor","start").attr("font-family",b).attr("font-size",c).attr("fill",Raphael.getRGB("black")),u=jQuery(t.node);u.offset().left+u.width()<=m()+Q()?(_.push(t),jQuery(t.node).bind("mousewheel",j)):t.remove()}}e=o.getHours()}}function C(a){for(var b=a.events,c=0;c<b.length;++c){var d=b[c].time.getTime(),e=A(d);e&&e.attr("fill",Z.bgColor)}}function D(a){C(a)}function E(a){for(var b=a.events,c=0;c<b.length;++c){var d=b[c].time.getTime(),e=A(d);e&&e.attr("fill",b[c].error?Z.cellErrorColor:Z.cellLoadingColor)}}function F(a){for(var b=a.events,c=0;c<b.length;++c){var d=b[c].time.getTime(),e=A(d);e&&e.attr("fill",b[c].error?Z.cellErrorColor:Z.cellReadyColor)}}function G(){}function H(){}function I(a){C(a)}function J(a){for(var b=a.events,c=0;c<b.length;++c){var d=b[c].time.getTime();o(x(d))}}function K(){return W?W.getForecastStartTime():0}function L(){return W?W.getStartTime():0}function M(){return W?W.getEndTime():0}function N(){return W?W.getResolution():0}function O(){return bb.getBBox().x+g()}function P(){return bb.getBBox().y}function Q(){return Math.floor(Z.width-2*g())}function R(){return Math.floor(bb.getBBox().height)}function S(){return W&&Q()?(W.getEndTime()-W.getStartTime())/Q():1}function T(a){W=a,a.addTimePeriodChangeListener({timePeriodChanged:function(){s()}}),a.addTimeSelectionChangeListener({selectedTimeChanged:function(a){o(x(a))}}),a.addForecastStartTimeChangeListener({forecastStartTimeChanged:function(){y()}}),a.addAnimationEventsListener({loadAnimationStartedCb:D,loadFrameStartedCb:E,loadFrameCompleteCb:F,loadGroupProgressCb:G,loadCompleteCb:H,animationFrameContentReleasedCb:I,frameChangedCb:J}),s()}function U(a){X=a}function V(){Y.remove()}var W,X,Y=new Raphael(d,e,f),Z={radius:5,x:0,y:0,width:e,height:f-35,bgColor:Raphael.rgb(88,88,88),cellReadyColor:Raphael.rgb(148,191,119),cellErrorColor:Raphael.rgb(154,37,0),cellLoadingColor:Raphael.rgb(148,191,191),strokeBgColor:Raphael.rgb(191,191,191),obsBgColor:Raphael.rgb(178,216,234),fctBgColor:Raphael.rgb(231,166,78)};Z.bgHeight=Math.floor(2*Z.height/3),Z.progressCellHeight=Z.height-Z.bgHeight-2;var $={height:30,width:65,bgColor:Raphael.rgb(88,88,88),strokeBgColor:Raphael.rgb(191,191,191)};$.sliderTipHeight=$.height*(3/7),$.scaleX=$.width/14,$.scaleY=($.height+$.sliderTipHeight)/7,$.sliderTipDx=Math.floor(4*$.scaleX),$.y=Z.y+Z.height-Math.floor($.sliderTipHeight/3);var _=Y.set(),ab=Y.set(),bb=Y.rect(Z.x,Z.y,Z.width,Z.height,Z.radius);bb.attr("fill",Z.bgColor),bb.attr("stroke",Z.strokeBgColor),bb.attr("opacity",0);var cb=Y.rect(Z.x+g(),Z.y,k()+l(),Z.height);cb.attr("fill",Z.bgColor),cb.attr("stroke-width",0);var db=Y.rect(Z.x+g(),Z.y,k(),Z.bgHeight);db.attr("fill",Z.obsBgColor),db.attr("stroke-width",0);var eb=Y.rect(Z.x+g()+k(),Z.y,l(),Z.bgHeight);eb.attr("fill",Z.fctBgColor),eb.attr("stroke-width",0);var fb=Y.rect(Z.x+g(),Z.y,g(),Z.height);fb.attr("fill",Raphael.rgb(0,0,0)).attr("opacity",0),fb.click(i);var gb=Y.rect(Z.x+e-2*g(),Z.y,g(),Z.height);gb.attr("fill",Raphael.rgb(0,0,0)).attr("opacity",0),gb.click(h),jQuery([bb.node,cb.node,db.node,eb.node,fb.node,gb.node]).bind("mousewheel",j);var hb,ib=Y.set(),jb=Y.path("M0,2L0,7L14,7L14,2L6,2L4,0L2,2Z");jb.attr("fill",$.bgColor),jb.attr("stroke",$.strokeBgColor),jb.transform("S"+$.scaleX+","+$.scaleY+",0,0T0,"+$.y);var kb=Y.text(32,$.y+26,"00:00").attr("text-anchor","start").attr("font-family",b).attr("font-size",c).attr("fill",Raphael.rgb(191,191,191));ib.push(jb),ib.push(kb),ib.drag(q,p,r,this,this,this),n(),jQuery([jb.node,kb.node]).bind("mousewheel",j),o(m()-$.sliderTipDx),this.setTimeModel=T,this.setTimeController=U,this.remove=V};return d}(),"undefined"==typeof jQuery||!jQuery)throw"ERROR: jQuery is required for fi.fmi.metoclient.ui.animator.Animator!";if("undefined"==typeof OpenLayers||!OpenLayers)throw"ERROR: OpenLayers is required for fi.fmi.metoclient.ui.animator.Animator!";if("undefined"==typeof OpenLayers.Layer||"undefined"==typeof OpenLayers.Layer.Animation||"undefined"==typeof OpenLayers.Layer.Animation.Utils||!OpenLayers.Layer.Animation.Utils)throw"ERROR: OpenLayers.Layer.Animation.Utils is required for fi.fmi.metoclient.ui.animator.Animator!";var fi=fi||{};if(fi.fmi=fi.fmi||{},fi.fmi.metoclient=fi.fmi.metoclient||{},fi.fmi.metoclient.ui=fi.fmi.metoclient.ui||{},fi.fmi.metoclient.ui.animator=fi.fmi.metoclient.ui.animator||{},"undefined"==typeof fi.fmi.metoclient.ui.animator.Controller||!fi.fmi.metoclient.ui.animator.Controller)throw"ERROR: fi.fmi.metoclient.ui.animator.Controller is required for fi.fmi.metoclient.ui.animator.Animator!";fi.fmi.metoclient.ui.animator.Animator=function(){var a={events:new OpenLayers.Events(this)},b=function(){function b(){return B.getAnimationBeginDate()}function c(){return B.getAnimationEndDate()}function d(){return B.getAnimationResolution()}function e(){if(A){var a=jQuery("#"+A.playAndPauseDivId);a.length&&a.click(function(){void 0!==C?k():j()}),f()}}function f(){if(A){var a=jQuery("#"+A.playAndPauseDivId);if(a.length){var b=a.css("background-image");void 0!==C?(b=b.replace("play.png","pause.png"),a.css("background-image",b)):(b=b.replace("pause.png","play.png"),a.css("background-image",b))}}}function g(){if(void 0===D)D=b().getTime();else{var e=d();D=D+e>c().getTime()?b().getTime():D+e}a.events.triggerEvent("timechanged",{time:D})}function h(){if(void 0===D)D=b().getTime();else{var e=d();D=D-e<b().getTime()?c().getTime():D-e}a.events.triggerEvent("timechanged",{time:D})}function i(b,c){D=b instanceof Date?b.getTime():b,a.events.triggerEvent("timechanged",{time:b}),jQuery.each(c,function(a,c){c.selectedTimeChanged(b)})}function j(){void 0===C&&(C=new Date,f(),l())}function k(){void 0!==C&&(C=void 0,f())}function l(){if(void 0!==C){requestAnimationFrame(l);var a=new Date;C.getTime()+B.getAnimationFrameRate()<a.getTime()&&(C=a,g())}}function m(){k(),g()}function n(){k(),h()}function o(a,b,c,d){var e=jQuery('<div class="scroll-content-item ui-widget-header"></div>');e.css("background-image","url('"+c.url+"')"),d&&(e.addClass("selectedLegend"),b.css("background-image",e.css("background-image")));var f=a.width();a.append(e);var g=f+e.outerWidth(!0);a.width()<g&&a.width(g),e.click(function(){e.hasClass("selectedLegend")||(jQuery(".scroll-content-item").removeClass("selectedLegend"),e.addClass("selectedLegend"),b.css("background-image",e.css("background-image")))})}function p(){var a=jQuery(".scroll-pane"),b=jQuery(".scroll-content");b.width()<a.outerWidth(!0)&&b.width(a.outerWidth(!0));var c=jQuery(".scroll-bar").slider({slide:function(c,d){b.width()>a.width()?b.css("margin-left",Math.round(d.value/100*(a.width()-b.width()))+"px"):b.css("margin-left",0)}}),d=c.find(".ui-slider-handle").mousedown(function(){c.width(d.width())}).mouseup(function(){c.width("100%")}).append("<span class='ui-icon ui-icon-grip-dotted-vertical'></span>").wrap("<div class='ui-handle-helper-parent'></div>").parent();a.css("overflow","hidden");var e=function(){var d=a.width()-b.width();d>0&&(d=0);var e="auto"===b.css("margin-left")?0:parseInt(b.css("margin-left"),10),f=d?Math.round(100*(e/d)):0;c.slider("value",f)},f=function(){if(b.width()>a.width()){var c=b.width()+parseInt(b.css("margin-left"),10),d=a.width()-c;d>0&&b.css("margin-left",parseInt(b.css("margin-left"),10)+d+"px")}else b.css("margin-left",0)},g=function(){var e=b.width()-a.width();0>e&&(e=0);var f=e/b.width(),g=a.width()-f*a.width();c.find(".ui-slider-handle").css({width:Math.floor(g),"margin-left":-Math.floor(g/2)}),d.width(Math.floor(c.width()-g))};E=function(){e(),f(),g()},setTimeout(g,10)}function q(){p(),jQuery(window).resize(function(){E&&E()})}function r(a,b){if(a){var c,d,e,f,g,h,i=jQuery("#"+a);i.empty();var j=0;for(c=0;c<b.length;++c)if(e=b[c],e.getVisibility()&&e.getLegendInfo)for(f=e.getLegendInfo(),d=0;d<f.length;++d)g=f[d],g.hasLegend&&++j;if(j)if(1===j){for(i.removeClass("animatorLegendNoLegend"),A.animationDivId&&jQuery("#"+A.animationDivId).removeClass("animatorAnimationNoLegend"),h=jQuery('<div class="animatorLegendView animatorLegendViewOne"></div>'),i.append(h),c=0;c<b.length;++c)if(e=b[c],e.getVisibility()&&e.getLegendInfo)for(f=e.getLegendInfo(),d=0;d<f.length;++d)if(g=f[d],g.hasLegend){h.css("background-image","url('"+g.url+"')");break}}else{i.removeClass("animatorLegendNoLegend"),A.animationDivId&&jQuery("#"+A.animationDivId).removeClass("animatorAnimationNoLegend");var k=jQuery('<div class="animatorLegendThumbnails"></div>');k.append('<div class="scroll-pane ui-widget ui-widget-header ui-corner-all"><div class="scroll-content"></div><div class="scroll-bar-wrap ui-widget-content ui-corner-bottom"><div class="scroll-bar"></div></div></div>'),i.append(k),h=jQuery('<div class="animatorLegendView"></div>'),i.append(h);var l=jQuery(".scroll-content"),m=!1;for(c=0;c<b.length;++c)if(e=b[c],e.getVisibility()&&e.getLegendInfo)for(f=e.getLegendInfo(),d=0;d<f.length;++d)g=f[d],g.hasLegend&&(o(l,h,g,!m),m=!0);q()}else i.addClass("animatorLegendNoLegend"),A.animationDivId&&jQuery("#"+A.animationDivId).addClass("animatorAnimationNoLegend")}else A.animationDivId&&jQuery("#"+A.animationDivId).addClass("animatorAnimationNoLegend")}function s(a){if(A.legendDivId)for(var b,c=function(){void 0===b&&(b=setTimeout(function(){r(A.legendDivId,a),b=void 0},100))},d={visibilitychanged:c,added:c,removed:c},e=0;e<a.length;++e){var f=a[e];f.events&&f.getLegendInfo&&f.events.on(d)}}function t(b,c){for(var d=0;d<c.length;++d){var e=c[d];e.registerController&&e.registerController(a.events),e.events&&e.events.on(H),b.addLayer(e)}}function u(){if(A.mapDivId){var a=B.getMap();if(a){a.render(A.mapDivId);var b=B.getLayers();b&&(s(b),t(a,b)),a.setCenter(a.getCenter(),B.getDefaultZoomLevel()),v(a,A.layerSwitcherDivId,A.maximizeSwitcher)}}}function v(a,b,c){if(a){var d;b&&(d={div:OpenLayers.Util.getElement(b)});var e=new OpenLayers.Control.LayerSwitcher(d);a.addControl(e),c||e.minimizeControl()}}function w(a,b,c){var d=new fi.fmi.metoclient.ui.animator.Controller(a[0],a.width(),a.height());return d.setTimeModel(b),d.setTimeController(c),d}function x(){if(!A||!A.controllerDivId||!A.playAndPauseDivId)throw"ERROR: Options or properties missing for controller!";if(void 0!==b()&&void 0!==c()){var a="#"+A.controllerDivId,f=jQuery(a);if(f.length){var g=(new Date).getTime(),h=b().getTime(),j=c().getTime(),l=j>=g?g:void 0,o=[],p=[],q=[],r=[],s={getStartTime:function(){return h},getEndTime:function(){return j},getResolution:function(){return d()},getForecastStartTime:function(){return l},addTimePeriodChangeListener:function(a){o.push(a)},addTimeSelectionChangeListener:function(a){p.push(a)},addAnimationEventsListener:function(a){G.push(a)},addForecastStartTimeChangeListener:function(a){q.push(a)},addTickIntervalChangeListener:function(a){r.push(a)}},t={proposeTimePeriodChange:function(){},proposeTimeSelectionChange:function(a){a>=h&&j>=a&&(a-=a%d(),i(a,p))},proposeNextFrame:function(){m()},proposePreviousFrame:function(){n()},proposePause:function(){k()}},u=w(f,s,t),v=f.width();jQuery(window).resize(function(){var b=jQuery(a).width();b!==v&&(v=b,u.remove(),u=w(f,s,t))}),e()}}}function y(a){if(a&&a.animatorContainerDivId){var b=jQuery('<div class="animator"><div class="animatorAnimation" id="animatorAnimationId"><div class="animatorMap" id="animatorMapId"><div class="animatorLogo" id="animatorLogoId"></div><div class="animatorPlayAndPause" id="animatorPlayAndPauseId"></div></div><div class="animatorController" id="animatorControllerId"></div><div class="animatorLayerSwitcher" id="animatorLayerSwitcherId"></div></div><div class="animatorLegend" id="animatorLegendId"></div></div>');jQuery("#"+a.animatorContainerDivId).append(b),a.animationDivId="animatorAnimationId",a.mapDivId="animatorMapId",a.layerSwitcherDivId="animatorLayerSwitcherId",a.controllerDivId="animatorControllerId",a.playAndPauseDivId="animatorPlayAndPauseId",a.logoDivId="animatorLogoId",a.legendDivId="animatorLegendId"}}function z(a){return!A&&a&&(A=a,B=new fi.fmi.metoclient.ui.animator.Factory(a.config),y(a),u(),x()),F}var A,B,C,D,E,F=this,G=[],H={scope:this,animationloadstarted:void 0,frameloadstarted:void 0,frameloadcomplete:void 0,animationloadgroupprogress:void 0,animationloadcomplete:void 0,animationframecontentreleased:void 0,framechanged:void 0};H.animationloadstarted=function(a){k(),jQuery.each(G,function(b,c){c.loadAnimationStartedCb(a)})},H.frameloadstarted=function(a){jQuery.each(G,function(b,c){c.loadFrameStartedCb(a)})},H.frameloadcomplete=function(a){jQuery.each(G,function(b,c){c.loadFrameCompleteCb(a)})},H.animationloadgroupprogress=function(a){jQuery.each(G,function(b,c){c.loadGroupProgressCb(a)})},H.animationloadcomplete=function(a){j(),jQuery.each(G,function(b,c){c.loadCompleteCb(a)})},H.animationframecontentreleased=function(a){jQuery.each(G,function(b,c){c.animationFrameContentReleasedCb(a)})},H.framechanged=function(a){jQuery.each(G,function(b,c){c.frameChangedCb(a)})},this.init=z};return b}();